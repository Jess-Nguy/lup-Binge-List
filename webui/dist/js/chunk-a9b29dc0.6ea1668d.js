(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9b29dc0"],{"2a12":function(e,t,r){},"77be":function(e,t,r){"use strict";r.r(t);var c=r("7a23"),a={class:"account"},n={key:0},s=Object(c["createVNode"])("h1",null,"My Account",-1),o={key:1},i=Object(c["createVNode"])("br",null,null,-1),u={key:0},d=Object(c["createVNode"])("h3",{style:{color:"green"}},"You are friends",-1),l={key:1},b=Object(c["createTextVNode"])(" Send friend request "),O=Object(c["createVNode"])("i",{class:"fas fa-plus-square fa-lg"},null,-1),j={class:"card border-primary"},f={class:"card-body"},p={class:"card-title"},g=Object(c["createVNode"])("br",null,null,-1);function v(e,t,r,v,m,h){var N=Object(c["resolveComponent"])("account-nav");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[m.query.id_user===m.loggedInUser.id?(Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[s])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("h1",null,Object(c["toDisplayString"])(m.user.username)+"'s Account",1),i,m.hasRelations?(Object(c["openBlock"])(),Object(c["createBlock"])("div",u,[d])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])("button",{onClick:t[1]||(t[1]=function(e){return h.sendFriendRequest(m.user)}),type:"button",class:"btn btn-success",disabled:m.hasRequest},[b,O],8,["disabled"])]))])),Object(c["createVNode"])(N,{id:m.query.id_user},null,8,["id"]),Object(c["createVNode"])("div",j,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("img",{src:m.user.profile_image,alt:"profile image",width:"100",height:"100"},null,8,["src"]),Object(c["createVNode"])("h5",p,Object(c["toDisplayString"])(m.user.username),1)]),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(m.user.time_zone),1),g,Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(m.role),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(m.user.email),1),Object(c["createVNode"])("p",null,Object(c["toDisplayString"])(m.user.created_at),1)])])}var m=r("5530"),h=r("1da1"),N=(r("159b"),r("96cf"),r("5502")),y=r("f59a"),V=r("7e16"),k={data:function(){return{user:{},query:{id_user:"",email:"",google_id:"",username:"",role_id:"",time_zone:"",offset:0,limit:4},loggedInUser:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:localStorage.getItem("userId"),roleId:localStorage.getItem("userRoleId")},role:"User",listFriendRequests:[],hasRequest:!1,hasRelations:!1,listFriends:[]}},name:"Account",components:{AccountNav:y["a"]},computed:{},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.query.id_user=e.$route.params.id,t.next=3,e.getUsers();case 3:return t.next=5,e.getMyFriendRequests();case 5:return t.next=7,e.getMyFriends();case 7:case"end":return t.stop()}}),t)})))()},methods:Object(m["a"])(Object(m["a"])({},Object(N["b"])(["login"])),{},{getUsers:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V["a"].getUserByFilter(e.query);case 2:r=t.sent,e.user=r[0],e.role=1==e.user.role_id?"Admin":"User";case 5:case"end":return t.stop()}}),t)})))()},getMyFriendRequests:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.loggedInUser.id,type:"request"},t.next=3,V["a"].getRelationsByUserId(r);case 3:c=t.sent,e.listFriendRequests=c,c.forEach((function(t){t.user_id1!=e.query.id_user&&t.user_id2!=e.query.id_user||(e.hasRequest=!0,e.hasRelations=!1)}));case 6:case"end":return t.stop()}}),t)})))()},getMyFriends:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V["a"].getFriendsList(e.query.id_user);case 2:r=t.sent,e.listFriends=r,r.forEach((function(t){t.user_id1!=e.query.id_user&&t.user_id2!=e.query.id_user||(e.hasRequest=!1,e.hasRelations=!0)}));case 5:case"end":return t.stop()}}),t)})))()},sendFriendRequest:function(e){var t=this;return Object(h["a"])(regeneratorRuntime.mark((function r(){var c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return c={type:"request",userId1:t.loggedInUser.id,userId2:e.id_user},r.next=3,V["a"].postUserRelation(c);case 3:return r.next=5,t.getMyFriendRequests();case 5:alert("Sent friend request!");case 6:case"end":return r.stop()}}),r)})))()}})},R=r("6b0d"),q=r.n(R);const _=q()(k,[["render",v]]);t["default"]=_},7892:function(e,t,r){"use strict";r("2a12")},f59a:function(e,t,r){"use strict";var c=r("7a23"),a=Object(c["withScopeId"])("data-v-7056b0c2");Object(c["pushScopeId"])("data-v-7056b0c2");var n={id:"AccountNavHeader"},s={class:"navbar navbar-expand-xl bg-light"},o={class:"navbar-nav mr-auto"},i={class:"nav-item"},u=Object(c["createVNode"])("i",{class:"fas fa-street-view"},null,-1),d=Object(c["createTextVNode"])("Overview"),l={class:"nav-item"},b=Object(c["createVNode"])("i",{class:"fas fa-list"},null,-1),O=Object(c["createTextVNode"])("BingeList"),j={class:"nav-item"},f=Object(c["createVNode"])("i",{class:"fab fa-gratipay"},null,-1),p=Object(c["createTextVNode"])("Favourite"),g={class:"nav-item"},v=Object(c["createVNode"])("i",{class:"fas fa-user-friends"},null,-1),m=Object(c["createTextVNode"])("Social");Object(c["popScopeId"])();var h=a((function(e,t,r,h,N,y){var V=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("ul",o,[Object(c["createVNode"])("li",i,[Object(c["createVNode"])(V,{to:"/account/".concat(r.id),class:"nav-link"},{default:a((function(){return[u,d]})),_:1},8,["to"])]),Object(c["createVNode"])("li",l,[Object(c["createVNode"])(V,{to:"/accountList/".concat(r.id),class:"nav-link"},{default:a((function(){return[b,O]})),_:1},8,["to"])]),Object(c["createVNode"])("li",j,[Object(c["createVNode"])(V,{to:"/favourite/".concat(r.id),class:"nav-link"},{default:a((function(){return[f,p]})),_:1},8,["to"])]),Object(c["createVNode"])("li",g,[Object(c["createVNode"])(V,{to:"/social/".concat(r.id),class:"nav-link"},{default:a((function(){return[v,m]})),_:1},8,["to"])])])])])})),N={props:{id:{type:String,required:!0,default:""}},created:function(){}},y=(r("7892"),r("6b0d")),V=r.n(y);const k=V()(N,[["render",h],["__scopeId","data-v-7056b0c2"]]);t["a"]=k}}]);
//# sourceMappingURL=chunk-a9b29dc0.6ea1668d.js.map