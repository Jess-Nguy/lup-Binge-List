{"version":3,"sources":["webpack:///./src/views/Settings.vue","webpack:///./src/views/Settings.vue?e8e9","webpack:///./src/assets/img/kBanner.png","webpack:///./src/assets/img/Banner.png","webpack:///./src/views/Settings.vue?01ed","webpack:///./src/assets/img/aBanner.png"],"names":["class","for","type","value","updateBanners","id","banners","src","alt","width","height","isAdmin","updateUserDetails","username","timezone","aria-label","timezones","tz","i","key","data","localStorage","getItem","user","name","profileUrl","roleId","computed","getTimezone","this","$store","getters","mounted","getBanners","localToken","$router","push","getUserInfo","methods","gotBanners","alert","setItem","replace","id_user","updateByUserId","getUserById","result","time_zone","__exports__","render","module","exports"],"mappings":"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","file":"js/chunk-047d889b.94f0098b.js","sourcesContent":["<template>\n  <div class=\"settings\">\n    <h1>Settings</h1>\n    <!-- profile -->\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Avatar</h5>\n        <div v-show=\"isAdmin\">\n          <form @submit.prevent=\"updateBanners\">\n            <h3>Add the webpage's Banners</h3>\n            <label for=\"image-link1\">Banner 1: </label>\n            <input type=\"text\" id=\"image-link1\" v-model=\"banners[0]\" />\n            <img :src=\"banners[0]\" alt=\"banner image 1\" width=\"350\" height=\"200\" />\n            <br />\n            <label for=\"image-link1\">Banner 2: </label>\n            <input type=\"text\" id=\"image-link2\" v-model=\"banners[1]\" />\n            <img :src=\"banners[1]\" alt=\"banner image 2\" width=\"350\" height=\"200\" />\n            <br />\n            <label for=\"image-link1\">Banner 3: </label>\n            <input type=\"text\" id=\"image-link3\" v-model=\"banners[2]\" />\n            <img :src=\"banners[2]\" alt=\"banner image 3\" width=\"350\" height=\"200\" /><br />\n            <button type=\"submit\" class=\"btn btn-primary\">Update Banners</button>\n          </form>\n        </div>\n      </div>\n      <form @submit.prevent=\"updateUserDetails\">\n        <div class=\"card-body\">\n          <label for=\"account-username\">Username: </label>\n          <input type=\"text\" id=\"account-username\" v-model=\"username\" />\n        </div>\n        <div class=\"card-body\">\n          <label for=\"image-link\">Time zone: </label>\n          <div class=\"btn-group\">\n            <select v-model=\"timezone\" id=\"timezoneDropdown\" class=\"form-select\" aria-label=\"Default select example\">\n              <option value=\"\">-</option>\n              <option v-for=\"(tz, i) in timezones\" :key=\"i\">{{ tz }}</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"card-footer\">\n          <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n<style>\n.card {\n  color: black;\n}\n</style>\n<script>\nimport DataService from '../../service/dataService';\n\nexport default {\n  data() {\n    return {\n      isAdmin: false,\n      banners: [\n        require('@/assets/img/Banner.png'),\n        require('@/assets/img/kBanner.png'),\n        require('@/assets/img/aBanner.png'),\n      ],\n      username: localStorage.getItem('username'),\n      user: {\n        name: localStorage.getItem('username'),\n        profileUrl: localStorage.getItem('profileImage'),\n        id: localStorage.getItem('userId'),\n        roleId: localStorage.getItem('userRoleId'),\n      },\n      timezones: [],\n      timezone: '',\n    };\n  },\n  name: 'Settings',\n  computed: {\n    getTimezone() {\n      return this.$store.getters.getTimezone;\n    },\n  },\n  async mounted() {\n    this.timezones = this.getTimezone;\n\n    if (this.user.roleId == 1) {\n      this.isAdmin = true;\n    }\n    await this.getBanners();\n\n    const localToken = localStorage.getItem('userToken');\n    if (!localToken) {\n      this.$router.push('/');\n    }\n    await this.getUserInfo();\n  },\n  methods: {\n    async getBanners() {\n      const gotBanners = await DataService.getBanners();\n      if (gotBanners !== null) {\n        this.banners = gotBanners;\n      }\n    },\n    async updateBanners() {\n      if (this.isAdmin) {\n        if (this.banners[0] == '') {\n          this.banners[0] = require('@/assets/img/Banner.png');\n        }\n        if (this.banners[1] == '') {\n          this.banners[1] = require('@/assets/img/kBanner.png');\n        }\n        if (this.banners[2] == '') {\n          this.banners[2] = require('@/assets/img/aBanner.png');\n        }\n\n        const data = {\n          banners: this.banners,\n          id: this.user.id,\n        };\n        await DataService.updateBanners(data);\n        await this.getBanners();\n        alert('Updated banners');\n      }\n    },\n    async updateUserDetails() {\n      localStorage.setItem('username', this.username);\n      const data = {\n        username: this.username.replace(/'/g, \"''\"),\n        timezone: this.timezone,\n        id_user: this.user.id,\n      };\n      await DataService.updateByUserId(data);\n      alert('Updated user details');\n    },\n    async getUserInfo() {\n      const result = await DataService.getUserById(this.user.id);\n      this.timezone = result[0].time_zone;\n    },\n  },\n};\n</script>\n","import { render } from \"./Settings.vue?vue&type=template&id=e4f4af3a\"\nimport script from \"./Settings.vue?vue&type=script&lang=js\"\nexport * from \"./Settings.vue?vue&type=script&lang=js\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=e4f4af3a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\JS\\\\Documents\\\\github\\\\lup-Binge-List\\\\webui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","module.exports = __webpack_public_path__ + \"img/kBanner.6c4eb444.png\";","module.exports = __webpack_public_path__ + \"img/Banner.fb519639.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Settings.vue?vue&type=style&index=0&id=e4f4af3a&lang=css\"","module.exports = __webpack_public_path__ + \"img/aBanner.7ba8e12f.png\";"],"sourceRoot":""}