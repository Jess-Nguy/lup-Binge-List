{"version":3,"sources":["webpack:///./src/components/AccountNav.vue?4d6c","webpack:///./src/components/AccountNav.vue","webpack:///./src/components/AccountNav.vue?ce97","webpack:///./src/views/MyAccount.vue","webpack:///./src/views/MyAccount.vue?c2bc"],"names":["id","class","to","props","type","String","required","default","created","__exports__","render","loggedInUser","src","user","profile_image","alt","width","height","username","time_zone","role","email","created_at","data","name","localStorage","getItem","profileUrl","roleId","listFriendRequests","hasRequest","hasRelations","listFriends","components","AccountNav","computed","query","id_user","this","google_id","role_id","offset","limit","getUsers","getMyFriendRequests","getMyFriends","methods","getUserByFilter","response","console","log","getRelationsByUserId","forEach","element","user_id1","getFriendsList","sendFriendRequest","addFriend","userId1","userId2","postUserRelation","alert"],"mappings":"yIAAA,W,mJCCOA,GAAG,oB,GACDC,MAAM,oC,GAELA,MAAM,sB,GACJA,MAAM,Y,EAC8C,yBAAkC,KAA/BA,MAAM,sBAAoB,S,+BAAK,Y,GAEtFA,MAAM,Y,EACiD,yBAA2B,KAAxBA,MAAM,eAAa,S,+BAAK,a,GAElFA,MAAM,Y,EAC+C,yBAA+B,KAA5BA,MAAM,mBAAiB,S,+BAAK,a,GAEpFA,MAAM,Y,EAC4C,yBAAmC,KAAhCA,MAAM,uBAAqB,S,+BAAK,U,4IAd/F,yBAkBM,MAlBN,EAkBM,CAjBJ,yBAgBM,MAhBN,EAgBM,CAdJ,yBAaK,KAbL,EAaK,CAZH,yBAEK,KAFL,EAEK,CADH,yBAA8G,GAAhGC,GAAE,mBAAc,EAAAF,IAAMC,MAAM,Y,YAAY,iBAAkC,CAAlC,E,uBAExD,yBAEK,KAFL,EAEK,CADH,yBAA2G,GAA7FC,GAAE,uBAAkB,EAAAF,IAAMC,MAAM,Y,YAAW,iBAA2B,CAA3B,E,uBAE3D,yBAEK,KAFL,EAEK,CADH,yBAA6G,GAA/FC,GAAE,qBAAgB,EAAAF,IAAMC,MAAM,Y,YAAW,iBAA+B,CAA/B,E,uBAEzD,yBAEK,KAFL,EAEK,CADH,yBAA2G,GAA7FC,GAAE,kBAAa,EAAAF,IAAMC,MAAM,Y,YAAW,iBAAmC,CAAnC,E,gCAsB/C,GACbE,MAAO,CACLH,GAAI,CACFI,KAAMC,OACNC,UAAU,EACVC,QAAS,KAGbC,QARa,c,iCC9Bf,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,U,4DCRRT,MAAM,W,EACT,yBAEM,YADJ,yBAAmB,UAAf,gB,MAGDA,MAAM,uB,GACJA,MAAM,a,GAELA,MAAM,c,EAMZ,yBAAM,mB,2GAdV,yBA6BM,MA7BN,EA6BM,CA5BJ,EAGA,yBAAqC,GAAvBD,GAAI,EAAAW,aAAaX,I,eAC/B,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAIM,MAJN,EAIM,CAHJ,yBAA8E,OAAxEY,IAAK,EAAAC,KAAKC,cAAeC,IAAI,gBAAgBC,MAAM,MAAMC,OAAO,O,gBACtE,yBAA+C,KAA/C,EAA+C,6BAArB,EAAAJ,KAAKK,UAAQ,KAGzC,yBAEI,sCADC,EAAAL,KAAKM,WAAS,GAEnB,EACA,yBAEI,sCADC,EAAAC,MAAI,GAET,yBAEI,sCADC,EAAAP,KAAKQ,OAAK,GAEf,yBAEI,sCADC,EAAAR,KAAKS,YAAU,O,sFAgBX,GACbC,KADa,WAEX,MAAO,CACLV,KAAM,GACNF,aAAc,CACZa,KAAMC,aAAaC,QAAQ,YAC3BC,WAAYF,aAAaC,QAAQ,gBACjC1B,GAAIyB,aAAaC,QAAQ,UACzBE,OAAQH,aAAaC,QAAQ,eAE/BN,KAAM,OACNS,mBAAoB,GACpBC,YAAY,EACZC,cAAc,EACdC,YAAa,KAGjBR,KAAM,aACNS,WAAY,CACVC,aAAA,MAEFC,SAAU,CACRC,MADQ,WAEN,MAAO,CACLC,QAASC,KAAK3B,aAAaX,GAC3BqB,MAAO,GACPkB,UAAW,GACXrB,SAAU,GACVsB,QAAS,GACTrB,UAAW,GACXsB,OAAQ,EACRC,MAAO,KAIPlC,QAnCO,WAmCG,wKAER,EAAKmC,WAFG,uBAGR,EAAKC,sBAHG,uBAIR,EAAKC,eAJG,8CAMhBC,QAAS,iCACJ,eAAW,CAAC,WADV,IAECH,SAFC,WAEU,8KACQ,OAAYI,gBAAgB,EAAKX,OADzC,OACTY,EADS,OAEf,EAAKnC,KAAOmC,EAAS,GACrBC,QAAQC,IAAI,SAAU,EAAKrC,MAC3B,EAAKO,KAA4B,GAArB,EAAKP,KAAK2B,QAAe,QAAU,OAJhC,8CAMXI,oBARC,WAQqB,uKACpBrB,EAAO,CACXvB,GAAI,EAAKW,aAAaX,GACtBI,KAAM,WAHkB,SAKH,OAAY+C,qBAAqB5B,GAL9B,OAKpByB,EALoB,OAM1B,EAAKnB,mBAAqBmB,EAC1BC,QAAQC,IAAI,oBAAqB,EAAKrB,oBACtCmB,EAASI,SAAQ,SAACC,GACZA,EAAQC,UAAY,EAAKlB,MAAMC,UACjC,EAAKP,YAAa,EAClB,EAAKC,cAAe,MAXE,8CAetBc,aAvBC,WAuBc,8KACI,OAAYU,eAAe,EAAK5C,aAAaX,IADjD,OACbgD,EADa,OAEnB,EAAKhB,YAAcgB,EACnBC,QAAQC,IAAI,iBAAkB,EAAKlB,aAEnCgB,EAASI,SAAQ,SAACC,GACZA,EAAQC,UAAY,EAAKlB,MAAMC,UACjC,EAAKP,YAAa,EAClB,EAAKC,cAAe,MARL,8CAYfyB,kBAnCC,SAmCiBC,GAAW,qKACjCR,QAAQC,IAAI,oBAAqBO,GAC3BlC,EAAO,CACXnB,KAAM,UACNsD,QAAS,EAAK/C,aAAaX,GAC3B2D,QAASF,EAAUpB,SALY,SAO3B,OAAYuB,iBAAiBrC,GAPF,cAQjCsC,MAAM,wBAR2B,SAS3B,EAAKjB,sBATsB,iD,qBC9GvC,MAAMnC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-3e64ab95.86f0a35d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AccountNav.vue?vue&type=style&index=0&id=7056b0c2&scoped=true&lang=css\"","<template>\n  <div id=\"AccountNavHeader\">\n    <div class=\"navbar navbar-expand-xl bg-light\">\n      <!-- Links -->\n      <ul class=\"navbar-nav mr-auto\">\n        <li class=\"nav-item\">\n          <router-link :to=\"`/account/${id}`\" class=\"nav-link\"> <i class=\"fas fa-street-view\"></i>Overview</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/accountList/${id}`\" class=\"nav-link\"><i class=\"fas fa-list\"></i>BingeList</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/favourite/${id}`\" class=\"nav-link\"><i class=\"fab fa-gratipay\"></i>Favourite</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/social/${id}`\" class=\"nav-link\"><i class=\"fas fa-user-friends\"></i>Social</router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* Centered section inside the top navigation */\n.navbar-nav {\n  float: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 1.5rem;\n}\n.navbar {\n  height: 3rem;\n}\n</style>\n<script>\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n      default: '',\n    },\n  },\n  created() {},\n};\n</script>\n","import { render } from \"./AccountNav.vue?vue&type=template&id=7056b0c2&scoped=true\"\nimport script from \"./AccountNav.vue?vue&type=script&lang=js\"\nexport * from \"./AccountNav.vue?vue&type=script&lang=js\"\n\nimport \"./AccountNav.vue?vue&type=style&index=0&id=7056b0c2&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\JS\\\\Documents\\\\github\\\\lup-Binge-List\\\\webui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7056b0c2\"]])\n\nexport default __exports__","<template>\n  <div class=\"account\">\n    <div>\n      <h1>My Account</h1>\n    </div>\n    <account-nav :id=\"loggedInUser.id\" />\n    <div class=\"card border-primary\">\n      <div class=\"card-body\">\n        <img :src=\"user.profile_image\" alt=\"profile image\" width=\"100\" height=\"100\" />\n        <h5 class=\"card-title\">{{ user.username }}</h5>\n        <!-- Add user details? -->\n      </div>\n      <p>\n        {{ user.time_zone }}\n      </p>\n      <br />\n      <p>\n        {{ role }}\n      </p>\n      <p>\n        {{ user.email }}\n      </p>\n      <p>\n        {{ user.created_at }}\n      </p>\n    </div>\n    <!-- Hidden since not in use -->\n    <!-- <h1>Activity List</h1> -->\n    <!-- <activity-list /> -->\n    <!-- <overview-stats /> -->\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport AccountNav from '@/components/AccountNav.vue';\nimport DataService from '../../service/dataService';\n// import ActivityList from '@/components/ActivityList.vue';\n// import OverviewStats from '@/components/OverviewStats.vue';\nexport default {\n  data() {\n    return {\n      user: {},\n      loggedInUser: {\n        name: localStorage.getItem('username'),\n        profileUrl: localStorage.getItem('profileImage'),\n        id: localStorage.getItem('userId'),\n        roleId: localStorage.getItem('userRoleId'),\n      },\n      role: 'User',\n      listFriendRequests: [],\n      hasRequest: false,\n      hasRelations: false,\n      listFriends: [],\n    };\n  },\n  name: 'My Account',\n  components: {\n    AccountNav,\n  },\n  computed: {\n    query() {\n      return {\n        id_user: this.loggedInUser.id,\n        email: '',\n        google_id: '',\n        username: '',\n        role_id: '',\n        time_zone: '',\n        offset: 0,\n        limit: 4,\n      };\n    },\n  },\n  async created() {\n    // this.query.id_user = this.$route.params.id;\n    await this.getUsers();\n    await this.getMyFriendRequests();\n    await this.getMyFriends();\n  },\n  methods: {\n    ...mapActions(['login']),\n    async getUsers() {\n      const response = await DataService.getUserByFilter(this.query);\n      this.user = response[0];\n      console.log('USER: ', this.user);\n      this.role = this.user.role_id == 1 ? 'Admin' : 'User';\n    },\n    async getMyFriendRequests() {\n      const data = {\n        id: this.loggedInUser.id,\n        type: 'request',\n      };\n      const response = await DataService.getRelationsByUserId(data);\n      this.listFriendRequests = response;\n      console.log('friends request: ', this.listFriendRequests);\n      response.forEach((element) => {\n        if (element.user_id1 == this.query.id_user) {\n          this.hasRequest = true;\n          this.hasRelations = false;\n        }\n      });\n    },\n    async getMyFriends() {\n      const response = await DataService.getFriendsList(this.loggedInUser.id);\n      this.listFriends = response;\n      console.log('list friends: ', this.listFriends);\n\n      response.forEach((element) => {\n        if (element.user_id1 == this.query.id_user) {\n          this.hasRequest = false;\n          this.hasRelations = true;\n        }\n      });\n    },\n    async sendFriendRequest(addFriend) {\n      console.log('ADD this friend: ', addFriend);\n      const data = {\n        type: 'request',\n        userId1: this.loggedInUser.id,\n        userId2: addFriend.id_user,\n      };\n      await DataService.postUserRelation(data);\n      alert('Sent friend request!');\n      await this.getMyFriendRequests();\n    },\n  },\n};\n</script>\n","import { render } from \"./MyAccount.vue?vue&type=template&id=0467aec0\"\nimport script from \"./MyAccount.vue?vue&type=script&lang=js\"\nexport * from \"./MyAccount.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\JS\\\\Documents\\\\github\\\\lup-Binge-List\\\\webui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}