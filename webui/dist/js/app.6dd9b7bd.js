(function(e){function t(t){for(var r,c,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function c(e){return i.p+"js/"+({browse:"browse"}[e]||e)+"."+{browse:"ff9469d5"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=c(e);var u=new Error;a=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}o[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"4e52":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("becf"),n("cabf"),n("3c76");var r=n("7a23"),o=n("d754"),a=n.n(o),c=Object(r["f"])("img",{src:a.a,alt:"Banner",width:"500",height:"200"},null,-1);function i(e,t,n,o,a,i){var s=Object(r["u"])("nav-header");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])(s),c])}var s={class:"navbar navbar-expand-lg navbar-dark primary-color"},u=Object(r["e"])("BingeList"),l=Object(r["f"])("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#basicExampleNav","aria-controls":"basicExampleNav","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(r["f"])("span",{class:"navbar-toggler-icon"})],-1),f={class:"collapse navbar-collapse",id:"basicExampleNav"},d={class:"navbar-nav mr-auto"},b={class:"nav-item"},p=Object(r["e"])("Home"),m={class:"nav-item"},v=Object(r["e"])("Browse"),h={class:"nav-item"},g=Object(r["e"])("Stats"),j={class:"nav-item"},O=Object(r["e"])("Forum"),w=Object(r["d"])('<form class="form-inline"><div class="md-form my-0"><input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search"></div></form><ul class="nav-item dropdown"><a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink-4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fas fa-user"></i> Profile </a><div class="dropdown-menu dropdown-menu-right dropdown-info" aria-labelledby="navbarDropdownMenuLink-4"><a class="dropdown-item" href="#">My account</a><a class="dropdown-item" href="#">Log out</a></div></ul>',2);function y(e,t){var n=Object(r["u"])("router-link"),o=Object(r["u"])("router-view");return Object(r["o"])(),Object(r["c"])("div",null,[Object(r["f"])("nav",s,[Object(r["f"])(n,{to:"/",class:"navbar-brand"},{default:Object(r["z"])((function(){return[u]})),_:1}),l,Object(r["f"])("div",f,[Object(r["f"])("ul",d,[Object(r["f"])("li",b,[Object(r["f"])(n,{to:"/home",class:"nav-link"},{default:Object(r["z"])((function(){return[p]})),_:1})]),Object(r["f"])("li",m,[Object(r["f"])(n,{to:"/browse",class:"nav-link"},{default:Object(r["z"])((function(){return[v]})),_:1})]),Object(r["f"])("li",h,[Object(r["f"])(n,{to:"/stats",class:"nav-link"},{default:Object(r["z"])((function(){return[g]})),_:1})]),Object(r["f"])("li",j,[Object(r["f"])(n,{to:"/forum",class:"nav-link"},{default:Object(r["z"])((function(){return[O]})),_:1})])]),w])]),Object(r["f"])(o)])}n("8250");const k={};k.render=y;var U=k,x={data:function(){return{user:{}}},name:"Home",components:{NavHeader:U},computed:{getUser:function(){return this.$store.getters.getUser}},mounted:function(){this.user=this.getUser}};n("afdd");x.render=i;var A=x,S=n("9483");Object(S["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var _=n("6c02"),L={class:"home"};function M(e,t,n,o,a,c){var i=Object(r["u"])("activity-list");return Object(r["o"])(),Object(r["c"])("div",L,[Object(r["f"])(i,{msg:a.welcomeMessage,profileUrl:a.profileUrl},null,8,["msg","profileUrl"])])}var P=Object(r["A"])("data-v-5f1ebc78");Object(r["r"])("data-v-5f1ebc78");var N={class:"hello"};Object(r["p"])();var T=P((function(e,t,n,o,a,c){return Object(r["o"])(),Object(r["c"])("div",N,[Object(r["f"])("h1",null,Object(r["w"])(n.msg),1),Object(r["f"])("img",{src:n.profileUrl,alt:"Trulli",width:"100",height:"100"},null,8,["src"])])})),B={name:"activity",props:{msg:String,profileUrl:String}};n("d9d3");B.render=T,B.__scopeId="data-v-5f1ebc78";var E=B,R={data:function(){return{welcomeMessage:"Welcome user",profileUrl:""}},name:"Home",components:{ActivityList:E},computed:{getUser:function(){return this.$store.getters.getUser}},mounted:function(){this.welcomeMessage="Welcome "+this.getUser.username,this.profileUrl=this.getUser.profile_image}};R.render=M;var $=R,z=Object(r["f"])("h1",null,"Logging in...",-1);function F(e,t,n,o,a,c){return Object(r["o"])(),Object(r["c"])("div",null,[z])}var H=n("5530"),D=n("5502"),C={methods:Object(H["a"])({},Object(D["b"])(["login"])),mounted:function(){var e=this.$route.params.token;e?(localStorage.setItem("user-token",e),this.login(e),this.$router.push("/home")):this.$router.push("/")}};C.render=F;var I=C,J=Object(r["f"])("h1",null,"ADMIN...",-1);function q(e,t,n,o,a,c){return Object(r["o"])(),Object(r["c"])("div",null,[J])}var W=n("1da1"),G=(n("96cf"),{methods:Object(H["a"])({},Object(D["b"])(["isAdmin"])),mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.isAdmin();case 2:n=t.sent,n||e.$router.push("/home");case 4:case"end":return t.stop()}}),t)})))()}});G.render=q;var K=G,Q=[{path:"/",name:"Dashboard",component:function(){return n.e("browse").then(n.bind(null,"7277"))}},{path:"/home",name:"Home",component:$},{path:"/browse",name:"Browse",component:function(){return n.e("browse").then(n.bind(null,"b210"))}},{path:"/stats",name:"Stats",component:function(){return n.e("browse").then(n.bind(null,"ed93"))}},{path:"/forum",name:"Forum",component:function(){return n.e("browse").then(n.bind(null,"5916"))}},{path:"/login/token/:token",name:"login-token",component:I},{path:"/admin",name:"admin",component:K}],V=Object(_["a"])({history:Object(_["b"])("/"),routes:Q}),X=V,Y=(n("ac1f"),n("1276"),n("5319"),n("d4ec")),Z=n("bee2"),ee=n("bc3a"),te=n.n(ee),ne="https://bingelist.herokuapp.com";"localhost"===window.location.hostname&&(ne="http://localhost:8000");var re={get dataApi(){return te.a.create({baseURL:ne,headers:{"content-type":"application/json",authorization:"Bearer ".concat(localStorage.token)}})}},oe=function(){function e(){Object(Y["a"])(this,e)}return Object(Z["a"])(e,[{key:"isAdmin",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.dataApi.get("/auth/isAdmin");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to get admin - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ae=new oe,ce=Object(D["a"])({state:{token:"",user:null,role:""},mutations:{setToken:function(e,t){e.token=t},setUser:function(e,t){e.user=t},setRole:function(e,t){e.role=t}},actions:{login:function(e,t){var n=e.commit;if(n("setToken",t),""!==t){var r=t.split(".")[1],o=r.replace(/-/g,"+").replace(/_/g,"/"),a=JSON.parse(window.atob(o));n("setUser",a)}else n("setUser",null)},isAdmin:function(e){var t=e.commit,n=ae.isAdmin();t("setRole",n)}},getters:{getUser:function(e){return e.user}},modules:{}});n("ab8b"),n("7b17");Object(r["b"])(A).config.globalProperties.$http=te.a,Object(r["b"])(A).use(ce).use(X).mount("#app")},"5c74":function(e,t,n){},6932:function(e,t,n){},8250:function(e,t,n){"use strict";n("5c74")},afdd:function(e,t,n){"use strict";n("4e52")},d754:function(e,t,n){e.exports=n.p+"img/LogoBL.d54aaf89.png"},d9d3:function(e,t,n){"use strict";n("6932")}});
//# sourceMappingURL=app.6dd9b7bd.js.map