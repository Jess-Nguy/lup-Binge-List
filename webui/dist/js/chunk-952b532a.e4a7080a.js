(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-952b532a"],{2061:function(e,t,r){},"2a12":function(e,t,r){},7892:function(e,t,r){"use strict";r("2a12")},8030:function(e,t,r){"use strict";r("2061")},d328:function(e,t,r){"use strict";r.r(t);var c=r("7a23"),a={class:"social"},n=Object(c["createVNode"])("h1",null,"Social",-1),o={key:0},s=Object(c["createVNode"])("label",null,"Request",-1),i={class:"card border border-dark shadow-0"},d={key:0,class:"card-body"},l={key:1,class:"card-body"},u=Object(c["createVNode"])("h2",{style:{color:"red"}},"No friend requests",-1),b=Object(c["createVNode"])("label",null,"Friends",-1),p={class:"card border border-dark shadow-0"},O={key:0,class:"card-body"},j={key:1,class:"card-body"},f=Object(c["createVNode"])("h2",{style:{color:"red"}},"No friends",-1);function m(e,t,r,m,v,g){var k=Object(c["resolveComponent"])("account-nav"),h=Object(c["resolveComponent"])("friend-request"),N=Object(c["resolveComponent"])("friends-list");return Object(c["openBlock"])(),Object(c["createBlock"])("div",a,[n,Object(c["createVNode"])(k,{id:v.user.id},null,8,["id"]),v.isSameUser?(Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[s,Object(c["createVNode"])("div",i,[v.listFriendRequests.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[Object(c["createVNode"])(h,{friendRequests:v.listFriendRequests,onAcceptFriendRequest:g.loadData},null,8,["friendRequests","onAcceptFriendRequest"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[u]))])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",null,[b,Object(c["createVNode"])("div",p,[v.listFriends.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",O,[Object(c["createVNode"])(N,{paramUserId:v.user.id,friends:v.listFriends,sameUser:v.isSameUser,onDeletedUserRelation:g.loadData},null,8,["paramUserId","friends","sameUser","onDeletedUserRelation"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",j,[f]))])])])}var v=r("1da1"),g=(r("159b"),r("96cf"),r("f59a")),k=Object(c["withScopeId"])("data-v-e23d6a9e");Object(c["pushScopeId"])("data-v-e23d6a9e");var h={class:"bg-image hover-overlay"},N={class:"card-body"},V={class:"card-title"},y=Object(c["createVNode"])("i",{class:"fas fa-plus-square"},null,-1);Object(c["popScopeId"])();var R=k((function(e,t,r,a,n,o){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.friendRequests,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:e.id_user_relations},[Object(c["createVNode"])("div",h,[Object(c["createVNode"])("img",{src:e.profile_image,alt:e.username,width:"150",height:"150"},null,8,["src","alt"])]),Object(c["createVNode"])("div",N,[Object(c["createVNode"])("h5",V,[Object(c["createVNode"])("a",{onClick:function(t){return o.acceptFriendRequest(e.id_user_relations)}},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username)+" ",1),y],8,["onClick"])])])])})),128))])})),B=r("7e16"),w={props:{friendRequests:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{loggedInUser:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:this.$route.params.id,roleId:localStorage.getItem("userRoleId")}}},create:function(){},methods:{acceptFriendRequest:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,B["a"].updateFriendRequest({idUserRelations:e});case 2:alert("Accepted friend request!"),t.$emit("accept-friend-request");case 4:case"end":return r.stop()}}),r)})))()}}},I=(r("8030"),r("6b0d")),q=r.n(I);const _=q()(w,[["render",R],["__scopeId","data-v-e23d6a9e"]]);var S=_,F={class:"bg-image hover-overlay"},U=Object(c["createVNode"])("a",{href:"#!"},[Object(c["createVNode"])("div",{class:"mask",style:{"background-color":"rgba(251, 251, 251, 0.15)"}})],-1),x={class:"card-body"},C={class:"card-title"};function D(e,t,r,a,n,o){var s=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.friends,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:e.id_user_relations},[Object(c["createVNode"])("div",F,[e.user_id1!=r.paramUserId?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.profile_image1,alt:"profile image",width:"150",height:"150"},null,8,["src"])):(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:1,src:e.profile_image2,alt:"profile image",width:"150",height:"150"},null,8,["src"])),U]),Object(c["createVNode"])("div",x,[Object(c["createVNode"])("h5",C,[e.user_id1!=r.paramUserId?(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:0,to:"/account/".concat(e.user_id1)},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username1),1)]})),_:2},1032,["to"])):(Object(c["openBlock"])(),Object(c["createBlock"])(s,{key:1,to:"/account/".concat(e.user_id2)},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username2),1)]})),_:2},1032,["to"]))]),r.sameUser?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,onClick:function(t){return o.removeFriend(e.id_user_relations)},class:"btn btn-danger"},"Remove",8,["onClick"])):Object(c["createCommentVNode"])("",!0)])])})),128))])}var T={props:{friends:{type:Array,require:!0,default:function(){return[]}},sameUser:{type:Boolean,require:!0,default:!1},paramUserId:{type:String,require:!0,default:""}},data:function(){return{}},create:function(){},methods:{removeFriend:function(e){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,B["a"].deleteFriend(e);case 2:alert("DELETE user!"),t.$emit("deleted-user-relation");case 4:case"end":return r.stop()}}),r)})))()}}};const A=q()(T,[["render",D]]);var L=A,$={components:{AccountNav:g["a"],FriendRequest:S,FriendsList:L},data:function(){return{user:{id:this.$route.params.id},listFriendRequests:[],listFriends:[],loggedInUser:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:localStorage.getItem("userId"),roleId:localStorage.getItem("userRoleId")},isSameUser:!1}},name:"Social",computed:{},created:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.user.id=e.$route.params.id,e.isSameUser=e.user.id==e.loggedInUser.id,t.next=4,e.loadData();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=localStorage.getItem("userToken");e||this.$router.push("/"),this.isSameUser=this.user.id==this.loggedInUser.id},methods:{loadData:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMyFriendRequests();case 2:return t.next=4,e.getMyFriends();case 4:case"end":return t.stop()}}),t)})))()},getMyFriendRequests:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.user.id,type:"request"},t.next=3,B["a"].getRelationsByUserId(r);case 3:c=t.sent,e.listFriendRequests=c,c.forEach((function(t){t.user_id1!=e.query.id_user&&t.user_id2!=e.query.id_user||(e.hasRequest=!0,e.hasRelations=!1)}));case 6:case"end":return t.stop()}}),t)})))()},getMyFriends:function(){var e=this;return Object(v["a"])(regeneratorRuntime.mark((function t(){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.user.id,type:"friends"},t.next=3,B["a"].getRelationsByUserId(r);case 3:c=t.sent,e.listFriends=c,c.forEach((function(t){t.user_id1!=e.user.id&&t.user_id2!=e.user.id||(e.hasRequest=!0,e.hasRelations=!1)}));case 6:case"end":return t.stop()}}),t)})))()}}};const E=q()($,[["render",m]]);t["default"]=E},f59a:function(e,t,r){"use strict";var c=r("7a23"),a=Object(c["withScopeId"])("data-v-7056b0c2");Object(c["pushScopeId"])("data-v-7056b0c2");var n={id:"AccountNavHeader"},o={class:"navbar navbar-expand-xl bg-light"},s={class:"navbar-nav mr-auto"},i={class:"nav-item"},d=Object(c["createVNode"])("i",{class:"fas fa-street-view"},null,-1),l=Object(c["createTextVNode"])("Overview"),u={class:"nav-item"},b=Object(c["createVNode"])("i",{class:"fas fa-list"},null,-1),p=Object(c["createTextVNode"])("BingeList"),O={class:"nav-item"},j=Object(c["createVNode"])("i",{class:"fab fa-gratipay"},null,-1),f=Object(c["createTextVNode"])("Favourite"),m={class:"nav-item"},v=Object(c["createVNode"])("i",{class:"fas fa-user-friends"},null,-1),g=Object(c["createTextVNode"])("Social");Object(c["popScopeId"])();var k=a((function(e,t,r,k,h,N){var V=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("ul",s,[Object(c["createVNode"])("li",i,[Object(c["createVNode"])(V,{to:"/account/".concat(r.id),class:"nav-link"},{default:a((function(){return[d,l]})),_:1},8,["to"])]),Object(c["createVNode"])("li",u,[Object(c["createVNode"])(V,{to:"/accountList/".concat(r.id),class:"nav-link"},{default:a((function(){return[b,p]})),_:1},8,["to"])]),Object(c["createVNode"])("li",O,[Object(c["createVNode"])(V,{to:"/favourite/".concat(r.id),class:"nav-link"},{default:a((function(){return[j,f]})),_:1},8,["to"])]),Object(c["createVNode"])("li",m,[Object(c["createVNode"])(V,{to:"/social/".concat(r.id),class:"nav-link"},{default:a((function(){return[v,g]})),_:1},8,["to"])])])])])})),h={props:{id:{type:String,required:!0,default:""}},created:function(){}},N=(r("7892"),r("6b0d")),V=r.n(N);const y=V()(h,[["render",k],["__scopeId","data-v-7056b0c2"]]);t["a"]=y}}]);
//# sourceMappingURL=chunk-952b532a.e4a7080a.js.map