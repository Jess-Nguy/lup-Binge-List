(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08f04903"],{"3abe":function(e,t,r){},5555:function(e,t,r){"use strict";r("ec5b")},c2e4:function(e,t,r){"use strict";r("3abe")},d328:function(e,t,r){"use strict";r.r(t);var c=r("7a23"),n={class:"social"},a=Object(c["createVNode"])("h1",null,"Social",-1),o={key:0},i=Object(c["createVNode"])("label",null,"Request",-1),s={class:"card border border-dark shadow-0"},d={key:0,class:"card-body"},l=Object(c["createVNode"])("label",null,"Friends",-1),u={class:"card border border-dark shadow-0"},b={key:0,class:"card-body"},f=Object(c["createVNode"])("div",{class:"card-body"},[Object(c["createVNode"])("h2",{style:{color:"red"}},"No friends")],-1);function O(e,t,r,O,j,p){var m=Object(c["resolveComponent"])("account-nav"),g=Object(c["resolveComponent"])("friend-request"),v=Object(c["resolveComponent"])("friends-list");return Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[a,Object(c["createVNode"])(m,{id:j.user.id},null,8,["id"]),j.isSameUser?(Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[i,Object(c["createVNode"])("div",s,[j.user?(Object(c["openBlock"])(),Object(c["createBlock"])("div",d,[Object(c["createVNode"])(g,{friendRequests:j.listFriendRequests,onAcceptFriendRequest:p.loadData},null,8,["friendRequests","onAcceptFriendRequest"])])):Object(c["createCommentVNode"])("",!0)])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",null,[l,Object(c["createVNode"])("div",u,[j.listFriends.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",b,[Object(c["createVNode"])(v,{friends:j.listFriends,onDeletedUserRelation:p.loadData},null,8,["friends","onDeletedUserRelation"])])):Object(c["createCommentVNode"])("",!0),f])])])}var j=r("1da1"),p=(r("96cf"),r("f59a")),m=Object(c["withScopeId"])("data-v-f9efeb3c");Object(c["pushScopeId"])("data-v-f9efeb3c");var g={class:"bg-image hover-overlay"},v={class:"card-body"},k={class:"card-title"},h=Object(c["createVNode"])("i",{class:"fas fa-plus-square"},null,-1);Object(c["popScopeId"])();var N=m((function(e,t,r,n,a,o){return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.friendRequests,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:e.id_user_relations},[Object(c["createVNode"])("div",g,[Object(c["createVNode"])("img",{src:e.profile_image,alt:e.username,width:"150",height:"150"},null,8,["src","alt"])]),Object(c["createVNode"])("div",v,[Object(c["createVNode"])("h5",k,[Object(c["createVNode"])("a",{onClick:function(t){return o.acceptFriendRequest(e.id_user_relations)}},[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username)+" ",1),h],8,["onClick"])])])])})),128))])})),V=r("7e16"),I={props:{friendRequests:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{loggedInUser:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:this.$route.params.id,roleId:localStorage.getItem("userRoleId")}}},create:function(){},methods:{acceptFriendRequest:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,V["a"].updateFriendRequest({idUserRelations:e});case 2:t.$emit("accept-friend-request");case 3:case"end":return r.stop()}}),r)})))()}}},R=(r("5555"),r("6b0d")),w=r.n(R);const y=w()(I,[["render",N],["__scopeId","data-v-f9efeb3c"]]);var B=y,S={class:"bg-image hover-overlay"},F=Object(c["createVNode"])("a",{href:"#!"},[Object(c["createVNode"])("div",{class:"mask",style:{"background-color":"rgba(251, 251, 251, 0.15)"}})],-1),_={class:"card-body"},q={class:"card-title"};function x(e,t,r,n,a,o){var i=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.friends,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:e.id_user_relations},[Object(c["createVNode"])("div",S,[e.user_id1!=a.user.id?(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:0,src:e.profile_image1,alt:"profile image",width:"150",height:"150"},null,8,["src"])):(Object(c["openBlock"])(),Object(c["createBlock"])("img",{key:1,src:e.profile_image2,alt:"profile image",width:"150",height:"150"},null,8,["src"])),F]),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("h5",q,[e.user_id1!=a.user.id?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,to:"/account/".concat(e.user_id1)},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username1),1)]})),_:2},1032,["to"])):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,to:"/account/".concat(e.user_id2)},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.username2),1)]})),_:2},1032,["to"]))]),Object(c["createVNode"])("button",{onClick:function(t){return o.removeFriend(e.id_user_relations)},class:"btn btn-danger"},"Remove",8,["onClick"])])])})),128))])}var U={props:{friends:{type:Array,require:!0,default:function(){return[]}}},data:function(){return{user:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:localStorage.getItem("userId"),roleId:localStorage.getItem("userRoleId")}}},create:function(){},methods:{removeFriend:function(e){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("REMOVE THIS RELATION: ",e),r.next=3,V["a"].deleteFriend(e);case 3:t.$emit("deleted-user-relation");case 4:case"end":return r.stop()}}),r)})))()}}};const C=w()(U,[["render",x]]);var D=C,T={components:{AccountNav:p["a"],FriendRequest:B,FriendsList:D},data:function(){return{user:{id:this.$route.params.id},listFriendRequests:[],listFriends:[],loggedInUser:{name:localStorage.getItem("username"),profileUrl:localStorage.getItem("profileImage"),id:localStorage.getItem("userId"),roleId:localStorage.getItem("userRoleId")},isSameUser:!1}},name:"Social",computed:{},created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.user.id=e.$route.params.id,e.isSameUser=e.user.id==e.loggedInUser.id,t.next=4,e.loadData();case 4:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=localStorage.getItem("userToken");e||this.$router.push("/"),this.isSameUser=this.user.id==this.loggedInUser.id,console.log("Social mount")},methods:{loadData:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMyFriendRequests();case 2:return t.next=4,e.getMyFriends();case 4:case"end":return t.stop()}}),t)})))()},getMyFriendRequests:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={id:e.loggedInUser.id,type:"request"},t.next=3,V["a"].getRelationsByUserId(r);case 3:e.listFriendRequests=t.sent;case 4:case"end":return t.stop()}}),t)})))()},getMyFriends:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,V["a"].getFriendsList(e.loggedInUser.id);case 2:e.listFriends=t.sent,console.log("list friends: ",e.listFriends);case 4:case"end":return t.stop()}}),t)})))()}}};const A=w()(T,[["render",O]]);t["default"]=A},ec5b:function(e,t,r){},f59a:function(e,t,r){"use strict";var c=r("7a23"),n=Object(c["withScopeId"])("data-v-7795f11f");Object(c["pushScopeId"])("data-v-7795f11f");var a={class:"navbar navbar-expand-lg navbar-light bg-light",id:"AccountNavHeader"},o={class:"navbar-nav mr-auto"},i={class:"nav-item"},s=Object(c["createTextVNode"])("Overview"),d={class:"nav-item"},l=Object(c["createTextVNode"])("My List"),u={class:"nav-item"},b=Object(c["createTextVNode"])("Favourite"),f={class:"nav-item"},O=Object(c["createTextVNode"])("Social");Object(c["popScopeId"])();var j=n((function(e,t,r,j,p,m){var g=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",null,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("ul",o,[Object(c["createVNode"])("li",i,[Object(c["createVNode"])(g,{to:"/account/".concat(r.id),class:"nav-link"},{default:n((function(){return[s]})),_:1},8,["to"])]),Object(c["createVNode"])("li",d,[Object(c["createVNode"])(g,{to:"/accountList/".concat(r.id),class:"nav-link"},{default:n((function(){return[l]})),_:1},8,["to"])]),Object(c["createVNode"])("li",u,[Object(c["createVNode"])(g,{to:"/favourite/".concat(r.id),class:"nav-link"},{default:n((function(){return[b]})),_:1},8,["to"])]),Object(c["createVNode"])("li",f,[Object(c["createVNode"])(g,{to:"/social/".concat(r.id),class:"nav-link"},{default:n((function(){return[O]})),_:1},8,["to"])])])])])})),p={props:{id:{type:String,required:!0,default:""}},created:function(){console.log("NAV ID: ",this.id)}},m=(r("c2e4"),r("6b0d")),g=r.n(m);const v=g()(p,[["render",j],["__scopeId","data-v-7795f11f"]]);t["a"]=v}}]);
//# sourceMappingURL=chunk-08f04903.e26a37c1.js.map