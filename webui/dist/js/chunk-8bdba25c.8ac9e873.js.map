{"version":3,"sources":["webpack:///./src/components/AccountNav.vue?9031","webpack:///./src/views/Account.vue","webpack:///./src/views/Account.vue?68bf","webpack:///./src/components/AccountNav.vue","webpack:///./src/components/AccountNav.vue?ce97"],"names":["class","style","query","id_user","loggedInUser","id","user","username","hasRelations","sendFriendRequest","type","disabled","hasRequest","src","profile_image","alt","width","height","time_zone","role","email","created_at","data","google_id","role_id","offset","limit","name","localStorage","getItem","profileUrl","roleId","listFriendRequests","listFriends","components","AccountNav","computed","created","$route","params","getUsers","getMyFriendRequests","getMyFriends","methods","getUserByFilter","response","console","log","getRelationsByUserId","forEach","element","user_id1","getFriendsList","addFriend","userId1","userId2","postUserRelation","alert","__exports__","render","to","props","String","required","default","this"],"mappings":"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","file":"js/chunk-8bdba25c.8ac9e873.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./AccountNav.vue?vue&type=style&index=0&id=5fcf9e2b&scoped=true&lang=css\"","<template>\n  <div class=\"account\">\n    <div v-if=\"query.id_user === loggedInUser.id\">\n      <h1>My Account</h1>\n    </div>\n    <div v-else>\n      <h1>{{ user.username }}'s Account</h1>\n      <br />\n      <div v-if=\"hasRelations\">\n        <h3 style=\"color: green\">You are friends</h3>\n      </div>\n      <div v-else>\n        <button @click=\"sendFriendRequest(user)\" type=\"button\" class=\"btn btn-success\" :disabled=\"hasRequest\">\n          Send friend request <i class=\"fas fa-plus-square fa-lg\"></i>\n        </button>\n      </div>\n    </div>\n    <account-nav :id=\"query.id_user\" />\n\n    <div class=\"card border-primary\">\n      <div class=\"card-body\">\n        <img :src=\"user.profile_image\" alt=\"profile image\" width=\"100\" height=\"100\" />\n        <h5 class=\"card-title\">{{ user.username }}</h5>\n        <!-- Add user details? -->\n      </div>\n      <p>\n        {{ user.time_zone }}\n      </p>\n      <br />\n      <p>\n        {{ role }}\n      </p>\n      <p>\n        {{ user.email }}\n      </p>\n      <p>\n        {{ user.created_at }}\n      </p>\n    </div>\n    <!-- Hidden since not in use -->\n    <!-- <h1>Activity List</h1> -->\n    <!-- <activity-list /> -->\n    <!-- <overview-stats /> -->\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport AccountNav from '@/components/AccountNav.vue';\nimport DataService from '../../service/dataService';\n// import ActivityList from '@/components/ActivityList.vue';\n// import OverviewStats from '@/components/OverviewStats.vue';\nexport default {\n  data() {\n    return {\n      user: {},\n      query: {\n        id_user: '',\n        email: '',\n        google_id: '',\n        username: '',\n        role_id: '',\n        time_zone: '',\n        offset: 0,\n        limit: 4,\n      },\n      loggedInUser: {\n        name: localStorage.getItem('username'),\n        profileUrl: localStorage.getItem('profileImage'),\n        id: localStorage.getItem('userId'),\n        roleId: localStorage.getItem('userRoleId'),\n      },\n      role: 'User',\n      listFriendRequests: [],\n      hasRequest: false,\n      hasRelations: false,\n      listFriends: [],\n    };\n  },\n  name: 'Account',\n  components: {\n    AccountNav,\n  },\n  computed: {},\n  async created() {\n    this.query.id_user = this.$route.params.id;\n    await this.getUsers();\n    await this.getMyFriendRequests();\n    await this.getMyFriends();\n  },\n  methods: {\n    ...mapActions(['login']),\n    async getUsers() {\n      const response = await DataService.getUserByFilter(this.query);\n      this.user = response[0];\n      console.log('USER: ', this.user);\n      this.role = this.user.role_id == 1 ? 'Admin' : 'User';\n    },\n    async getMyFriendRequests() {\n      const data = {\n        id: this.loggedInUser.id,\n        type: 'request',\n      };\n      const response = await DataService.getRelationsByUserId(data);\n      this.listFriendRequests = response;\n      console.log('friends request: ', this.listFriendRequests);\n      response.forEach((element) => {\n        if (element.user_id1 == this.query.id_user) {\n          this.hasRequest = true;\n          this.hasRelations = false;\n        }\n      });\n    },\n    async getMyFriends() {\n      const response = await DataService.getFriendsList(this.loggedInUser.id);\n      this.listFriends = response;\n      console.log('list friends: ', this.listFriends);\n\n      response.forEach((element) => {\n        if (element.user_id1 == this.query.id_user) {\n          this.hasRequest = false;\n          this.hasRelations = true;\n        }\n      });\n    },\n    async sendFriendRequest(addFriend) {\n      console.log('ADD this friend: ', addFriend);\n      const data = {\n        type: 'request',\n        userId1: this.loggedInUser.id,\n        userId2: addFriend.id_user,\n      };\n      await DataService.postUserRelation(data);\n      alert('Sent friend request!');\n      await this.getMyFriendRequests();\n    },\n  },\n};\n</script>\n","import { render } from \"./Account.vue?vue&type=template&id=71fb15be\"\nimport script from \"./Account.vue?vue&type=script&lang=js\"\nexport * from \"./Account.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\JS\\\\Documents\\\\github\\\\lup-Binge-List\\\\webui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div id=\"AccountNavHeader\">\n    <div class=\"navbar navbar-expand-xl bg-light\">\n      <!-- Links -->\n      <ul class=\"navbar-nav mr-auto\">\n        <li class=\"nav-item\">\n          <router-link :to=\"`/account/${id}`\" class=\"nav-link\"> <i class=\"fas fa-street-view\"></i>Overview</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/accountList/${id}`\" class=\"nav-link\"><i class=\"fas fa-list\"></i>BingeList</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/favourite/${id}`\" class=\"nav-link\"><i class=\"fab fa-gratipay\"></i>Favourite</router-link>\n        </li>\n        <li class=\"nav-item\">\n          <router-link :to=\"`/social/${id}`\" class=\"nav-link\"><i class=\"fas fa-user-friends\"></i>Social</router-link>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* Centered section inside the top navigation */\n.navbar-nav {\n  float: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 1.5rem;\n}\n.navbar {\n  height: 3rem;\n}\n</style>\n<script>\nexport default {\n  props: {\n    id: {\n      type: String,\n      required: true,\n      default: '',\n    },\n  },\n  created() {\n    console.log('NAV ID: ', this.id);\n  }, // Add watch in change of user id\n};\n</script>\n","import { render } from \"./AccountNav.vue?vue&type=template&id=5fcf9e2b&scoped=true\"\nimport script from \"./AccountNav.vue?vue&type=script&lang=js\"\nexport * from \"./AccountNav.vue?vue&type=script&lang=js\"\n\nimport \"./AccountNav.vue?vue&type=style&index=0&id=5fcf9e2b&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\JS\\\\Documents\\\\github\\\\lup-Binge-List\\\\webui\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5fcf9e2b\"]])\n\nexport default __exports__"],"sourceRoot":""}