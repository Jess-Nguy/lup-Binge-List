(function(e){function t(t){for(var a,o,s=t[0],i=t[1],u=t[2],l=0,d=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==r[s]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},r={app:0},c=[];function s(e){return i.p+"js/"+({browse:"browse"}[e]||e)+"."+{browse:"35ed7074","chunk-1cb56d0e":"2b5c10f3","chunk-31125be4":"c99a6231","chunk-4485f530":"20e2976d","chunk-4d41ae98":"51c0f2da","chunk-636a2400":"2fac4776"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={browse:1,"chunk-1cb56d0e":1,"chunk-31125be4":1,"chunk-4485f530":1,"chunk-4d41ae98":1,"chunk-636a2400":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({browse:"browse"}[e]||e)+"."+{browse:"fca01565","chunk-1cb56d0e":"c334501f","chunk-31125be4":"d118eb53","chunk-4485f530":"58c2f6c5","chunk-4d41ae98":"5de43c09","chunk-636a2400":"a1631b39"}[e]+".css",r=i.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===r)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||r,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete o[e],b.parentNode.removeChild(b),n(c)},b.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(b);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[e]=void 0}};var b=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var b=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1143:function(e,t,n){"use strict";n("5ff7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("becf"),n("cabf"),n("3c76");var a=n("7a23");function o(e,t,n,o,r,c){var s=Object(a["v"])("nav-header");return Object(a["p"])(),Object(a["c"])("div",null,[Object(a["g"])(s)])}var r=n("c9af"),c=n.n(r),s=Object(a["A"])("data-v-7c06e00e");Object(a["s"])("data-v-7c06e00e");var i={class:"navbar navbar-expand-lg navbar-dark primary-color"},u=Object(a["g"])("img",{src:c.a,alt:"BingeList",width:"100",height:"40"},null,-1),l=Object(a["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navHeader","aria-controls":"navHeader","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["g"])("span",{class:"navbar-toggler-icon"})],-1),d={key:0,class:"collapse navbar-collapse",id:"navHeader"},b={class:"navbar-nav mr-auto"},f={class:"nav-item"},p=Object(a["g"])("i",{class:"fas fa-home"},null,-1),g=Object(a["f"])("Home"),h={class:"nav-item"},v=Object(a["g"])("i",{class:"fas fa-search"},null,-1),m=Object(a["f"])("Browse"),j={class:"nav-item"},O=Object(a["g"])("i",{class:"fas fa-chart-bar"},null,-1),w=Object(a["f"])("Stats"),k={class:"nav-item"},y=Object(a["g"])("i",{class:"fas fa-file-alt"},null,-1),A=Object(a["f"])("Forum"),L={id:"profile-dropdown",class:"nav-item"},_=Object(a["g"])("a",{class:"nav-link dropdown-toggle",id:"navbarDropdownMenuLink-4","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[Object(a["g"])("i",{class:"fas fa-user"}),Object(a["g"])("label",null,"Profile")],-1),S={class:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink-4"},x=Object(a["f"])("My account"),U=Object(a["f"])("Settings"),E={key:0,id:"logout-button"},P=Object(a["g"])("i",{class:"fas fa-sign-out-alt"},null,-1),N=Object(a["f"])(" Logout "),T={key:1,id:"login-link"},R=Object(a["g"])("i",{class:"fas fa-sign-in-alt"},null,-1),C=Object(a["f"])(" Login with Google");Object(a["q"])();var H=s((function(e,t,n,o,r,c){var H=Object(a["v"])("router-link"),$=Object(a["v"])("router-view");return Object(a["p"])(),Object(a["c"])("div",null,[Object(a["g"])("nav",i,[Object(a["g"])(H,{to:"/",class:"navbar-brand"},{default:s((function(){return[u]})),_:1}),l,r.user?(Object(a["p"])(),Object(a["c"])("div",d,[Object(a["g"])("ul",b,[Object(a["g"])("li",f,[Object(a["g"])(H,{to:"/home",class:"nav-link"},{default:s((function(){return[p,g]})),_:1})]),Object(a["g"])("li",h,[Object(a["g"])(H,{to:"/browse",class:"nav-link"},{default:s((function(){return[v,m]})),_:1})]),Object(a["g"])("li",j,[Object(a["g"])(H,{to:"/stats",class:"nav-link"},{default:s((function(){return[O,w]})),_:1})]),Object(a["g"])("li",k,[Object(a["g"])(H,{to:"/forum",class:"nav-link"},{default:s((function(){return[y,A]})),_:1})])]),Object(a["g"])("ul",L,[_,Object(a["g"])("div",S,[Object(a["g"])(H,{to:"/account",class:"dropdown-item"},{default:s((function(){return[x]})),_:1}),Object(a["g"])(H,{to:"/settings",class:"dropdown-item"},{default:s((function(){return[U]})),_:1})])]),r.user?(Object(a["p"])(),Object(a["c"])("div",E,[Object(a["g"])("button",{"data-cy":"test-logout-button",class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return c.logoutUser&&c.logoutUser.apply(c,arguments)})},[P,N])])):Object(a["d"])("",!0)])):(Object(a["p"])(),Object(a["c"])("div",T,[Object(a["g"])("a",{"data-cy":"test-login-link",class:"btn btn-md btn-success",href:c.getLoginURL},[R,C],8,["href"])]))]),Object(a["g"])($)])})),$=n("5530"),B=n("5502"),I={data:function(){return{user:{},isUser:!1}},name:"Nav Header",computed:{getLoginURL:function(){return"localhost"===window.location.hostname?"http://localhost:8000/auth/google":"https://bingelist.herokuapp.com/auth/google"},getUser:function(){return this.$store.getters.getUser}},mounted:function(){var e=this;this.user=this.getUser,this.$store.subscribe((function(t,n){console.log(t.type),console.log(t.payload),console.log("USER: ",n),e.user=n}))},methods:Object($["a"])(Object($["a"])({},Object(B["b"])(["login"])),{},{logoutUser:function(){this.login(""),this.user=this.getUser,localStorage.clear(),this.$router.push("/")}})},M=(n("5c48"),n("d959")),D=n.n(M);const F=D()(I,[["render",H],["__scopeId","data-v-7c06e00e"]]);var q=F,J={data:function(){return{}},name:"Home",components:{NavHeader:q},computed:{},mounted:function(){},methods:{}};n("575b");const z=D()(J,[["render",o]]);var G=z,K=n("9483");Object(K["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var Q=n("6c02"),V={class:"home"},W=Object(a["g"])("h1",null,"Activity List",-1),X=Object(a["g"])("h1",null,"In Progress",-1),Y=Object(a["g"])("h1",null,"Trending shows",-1),Z=Object(a["g"])("h1",null,"Newly added shows",-1);function ee(e,t,n,o,r,c){var s=Object(a["v"])("activity-list"),i=Object(a["v"])("show-preview");return Object(a["p"])(),Object(a["c"])("div",V,[W,Object(a["g"])(s),X,Object(a["g"])(i),Y,Object(a["g"])(i),Z,Object(a["g"])(i)])}var te=n("7342"),ne=Object(a["A"])("data-v-30d3cc06");Object(a["s"])("data-v-30d3cc06");var ae={class:"showpreview"},oe=Object(a["g"])("img",{src:"https://mdbootstrap.com/wp-content/uploads/2020/06/vertical.jpg",alt:"...",class:"img-fluid"},null,-1);Object(a["q"])();var re=ne((function(e,t,n,o,r,c){return Object(a["p"])(),Object(a["c"])("div",ae,[oe])})),ce={name:"show preview"};n("1143");const se=D()(ce,[["render",re],["__scopeId","data-v-30d3cc06"]]);var ie=se,ue={data:function(){return{user:{}}},name:"Home",components:{ActivityList:te["a"],ShowPreview:ie},computed:{getUser:function(){return this.$store.getters.getUser}},mounted:function(){var e=this;this.$store.subscribe((function(t,n){console.log(t.type),console.log(t.payload),console.log("USER: ",n),e.user=n})),localStorage.getItem("user-token")},methods:Object($["a"])({},Object(B["b"])(["login"]))};const le=D()(ue,[["render",ee]]);var de=le,be=Object(a["g"])("h1",null,"Logging in...",-1);function fe(e,t,n,o,r,c){return Object(a["p"])(),Object(a["c"])("div",null,[be])}var pe={methods:Object($["a"])({},Object(B["b"])(["login"])),mounted:function(){console.log("REACHED!");var e=this.$route.params.token;e?(localStorage.setItem("user-token",e),this.login(e),this.$router.push("/home")):this.$router.push("/")}};const ge=D()(pe,[["render",fe]]);var he=ge,ve=Object(a["g"])("h1",null,"ADMIN...",-1);function me(e,t,n,o,r,c){return Object(a["p"])(),Object(a["c"])("div",null,[ve])}var je=n("1da1"),Oe=(n("96cf"),{methods:Object($["a"])({},Object(B["b"])(["isAdmin"])),mounted:function(){var e=this;return Object(je["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.isAdmin();case 2:n=t.sent,n||e.$router.push("/home");case 4:case"end":return t.stop()}}),t)})))()}});const we=D()(Oe,[["render",me]]);var ke=we,ye=[{path:"/",name:"Dashboard",component:function(){return n.e("browse").then(n.bind(null,"7277"))}},{path:"/home",name:"Home",component:de},{path:"/browse",name:"Browse",component:function(){return n.e("browse").then(n.bind(null,"b210"))}},{path:"/stats",name:"Stats",component:function(){return n.e("browse").then(n.bind(null,"ed93"))}},{path:"/forum",name:"Forum",component:function(){return n.e("browse").then(n.bind(null,"5916"))}},{path:"/login/token/:token",name:"login-token",component:he},{path:"/admin",name:"admin",component:ke},{path:"/account",name:"Account",component:function(){return n.e("chunk-4d41ae98").then(n.bind(null,"77be"))}},{path:"/settings",name:"settings",component:function(){return n.e("chunk-1cb56d0e").then(n.bind(null,"26d3"))}},{path:"/accountList",name:"Account List",component:function(){return n.e("chunk-4485f530").then(n.bind(null,"86f2"))}},{path:"/favourite",name:"Favourite",component:function(){return n.e("chunk-636a2400").then(n.bind(null,"c9bd"))}},{path:"/social",name:"Social",component:function(){return n.e("chunk-31125be4").then(n.bind(null,"d328"))}}],Ae=Object(Q["a"])({history:Object(Q["b"])("/"),routes:ye}),Le=Ae,_e=(n("ac1f"),n("1276"),n("5319"),n("d4ec")),Se=n("bee2"),xe=n("bc3a"),Ue=n.n(xe),Ee="https://bingelist.herokuapp.com";"localhost"===window.location.hostname&&(Ee="http://localhost:8000");var Pe={get dataApi(){return Ue.a.create({baseURL:Ee,headers:{"content-type":"application/json",authorization:"Bearer ".concat(localStorage.token)}})}},Ne=function(){function e(){Object(_e["a"])(this,e)}return Object(Se["a"])(e,[{key:"isAdmin",value:function(){var e=Object(je["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.dataApi.get("/auth/isAdmin");case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Failed to get admin - ",e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Te=new Ne,Re=Object(B["a"])({state:{token:"",user:null,role:""},mutations:{setToken:function(e,t){e.token=t},setUser:function(e,t){e.user=t},setRole:function(e,t){e.role=t}},actions:{login:function(e,t){var n=e.commit;if(n("setToken",t),""!==t){var a=t.split(".")[1],o=a.replace(/-/g,"+").replace(/_/g,"/"),r=JSON.parse(window.atob(o));n("setUser",r)}else n("setUser",null)},isAdmin:function(e){var t=e.commit,n=Te.isAdmin();t("setRole",n)}},getters:{getUser:function(e){return e.user}},modules:{}});n("ab8b"),n("7b17");Object(a["b"])(G).config.globalProperties.$http=Ue.a,Object(a["b"])(G).use(Re).use(Le).mount("#app")},"575b":function(e,t,n){"use strict";n("6134")},"5c48":function(e,t,n){"use strict";n("bd18")},"5ff7":function(e,t,n){},6134:function(e,t,n){},"6e69":function(e,t,n){},7342:function(e,t,n){"use strict";var a=n("7a23"),o=Object(a["A"])("data-v-40c7db98");Object(a["s"])("data-v-40c7db98");var r={class:"activitylist"},c=Object(a["e"])('<div class="card" data-v-40c7db98><div class="card mb-3" style="max-width:540px;" data-v-40c7db98><div class="row g-0" data-v-40c7db98><div class="col-md-4" data-v-40c7db98><img src="https://mdbootstrap.com/wp-content/uploads/2020/06/vertical.jpg" alt="..." class="img-fluid" data-v-40c7db98></div><div class="col-md-8" data-v-40c7db98><i class="fas fa-times-circle" data-v-40c7db98></i><div class="card-body" data-v-40c7db98><h5 class="card-title" data-v-40c7db98>Card title</h5><p class="card-text" data-v-40c7db98> This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer. </p><p class="card-text" data-v-40c7db98><small class="text-muted" data-v-40c7db98>Last updated 3 mins ago</small></p></div></div></div></div></div>',1);Object(a["q"])();var s=o((function(e,t,n,o,s,i){return Object(a["p"])(),Object(a["c"])("div",r,[c])})),i={name:"activity"},u=(n("8d57"),n("d959")),l=n.n(u);const d=l()(i,[["render",s],["__scopeId","data-v-40c7db98"]]);t["a"]=d},"8d57":function(e,t,n){"use strict";n("6e69")},bd18:function(e,t,n){},c9af:function(e,t,n){e.exports=n.p+"img/LogoBL.d54aaf89.png"}});
//# sourceMappingURL=app.04bec028.js.map